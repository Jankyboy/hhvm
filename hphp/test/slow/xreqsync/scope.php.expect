T1 getting lock...
bool(true)
T1 got lock, sleeping 3s...
T2 trying to get lock...
T1 scope ending without releasing lock...
bool(true)
T2 got lock.
T1 ended...
